

<!doctype html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>
		
		Ontion Routing - Privacy Patterns
		
	</title>
  <meta name="description" content="Privacy patterns in software design">
  <meta name="author" content="Nick Doty and Mohit Gupta">
  <link rel="shortcut icon" href="/media/images/favicon.ico">
  
	
  <!-- CSS: implied media="all" -->
  <link href='http://fonts.googleapis.com/css?family=Lora:400,700' rel='stylesheet' type='text/css'>
  <link href="http://fonts.googleapis.com/css?family=Cuprum:regular&v1" rel="stylesheet" type="text/css" >
  <link href="http://fonts.googleapis.com/css?family=News+Cycle&subset=latin&v2" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/media/css/main.css?v=2">
	
	
	
	<!--[if lt IE 9]>
  <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
	<body id="ontion-routing">
    <div id="container">

			<header>
  <div id="logo"><a href="/" title="Home">privacy<span class="highlight">patterns</span>.org</a></div>
  
  
<nav>
  <ul>
    <li><a href="/">Home</a> &bull; </li>
    <li><a href="/about/">About</a> &bull; </li>
    <li><a href="/patterns/">Patterns</a></li>
  </ul>
</nav>

  
</header>
  
<!-- 



<ul class="breadcrumbs">
	
		<li>
			<a href="/">Privacy Patterns</a>

			
				
				<span class="separator">&gt;</span>
				
			
		</li>
	
		<li>
			<a href="/patterns">Patterns</a>

			
		</li>
	
</ul>
    




 -->


      <div id="main" role="main">
			  






<div id="content">
  <p id="cats">
    Categories: 
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
<a href="/categories/routing" class="routing">routing</a>
           &bull; 
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
          
<a href="/categories/anonymous-communication" class="anonymous-communication">anonymous-communication</a>
           &bull; 
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
<a href="/categories/hide" class="hide">hide</a>
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
  </p>
  <h1>
		
			Ontion Routing
		
	</h1>
	

	<div class="toc"><span class="toctitle">Contents</span><ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#problem">Problem</a></li>
<li><a href="#context">Context</a></li>
<li><a href="#goals">Goals</a></li>
<li><a href="#motivating-example">Motivating&nbsp;Example</a></li>
<li><a href="#solution">Solution</a></li>
<li><a href="#constraints-and-consequences">Constraints and&nbsp;Consequences</a></li>
<li><a href="#known-uses">Known&nbsp;Uses</a></li>
</ul>
</div>
<h2 id="summary"><a class="toclink" href="#summary">Summary</a></h2>
<p>This pattern provides unlinkability between senders and receivers by
encapsulating the data in different layers of encryption, limiting the
knowledge of each node along the delivery&nbsp;path.</p>
<h2 id="problem"><a class="toclink" href="#problem">Problem</a></h2>
<p>When delivering data, the receiver has to be known. If the system
provides the functionality that the receiver of data should be able to
answer, than the receiver should also know the address of the sender.
When forwarding information over multiple stations then, in a naive
implementation, each station on the delivery path knows the sender and
the final&nbsp;destination.</p>
<h2 id="context"><a class="toclink" href="#context">Context</a></h2>
<p>A system in which data is routed between different&nbsp;nodes.</p>
<h2 id="goals"><a class="toclink" href="#goals">Goals</a></h2>
<p>The goal of this pattern is to achieve unlinkability between senders
and&nbsp;receivers.</p>
<h2 id="motivating-example"><a class="toclink" href="#motivating-example">Motivating&nbsp;Example</a></h2>
<p>Alice is a whistleblower and tries to forward data to Bob who works at
the press. She sends the corresponding documents as an
e-mail-attachment. Eve monitors the traffic and can see who sent this
mail to whom. The next day, police raids Alices apartment and sends
her to jail. Bobs mailaccount gets&nbsp;seized.</p>
<h2 id="solution"><a class="toclink" href="#solution">Solution</a></h2>
<p>The solution is to encrypt the data in layers such that every station
on the way can remove one layer of encryption and thus get to know the
immediate next station. This way, every party on the path from the
sender to the receiver only gets to know the immediate successor and
predecessor on the delivery&nbsp;path.</p>
<h2 id="constraints-and-consequences"><a class="toclink" href="#constraints-and-consequences">Constraints and&nbsp;Consequences</a></h2>
<p>If there are too few hops, the anonymity set is not big enough and the
unlinkability between sender and receiver is at risk. The same problem
occurs when there is too few communication going on in the network.
The multiple layers of encryption will bloat up the data and consume
bandwidth. If all nodes on the delivery path collaborate in deducing
the sender and the receiver, the pattern becomes&nbsp;useless.</p>
<h2 id="known-uses"><a class="toclink" href="#known-uses">Known&nbsp;Uses</a></h2>
<p>The TOR-browser, a web-browser specifically designed to ensure
anonymity makes heavy use of onion&nbsp;routing.</p>

	
	
  <p id="comments_link">
    Corrections or additions? <a href="https://github.com/privacypatterns/patterns/blob/master/patterns/Onion-routing.md" target="_blank">Contribute on GitHub.</a>
  </p>
  

  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'privacypatterns';
      // var disqus_developer = 1; // Remove this when going live

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</div>



      </div>
			<footer>
	<p>
		<a rel="license" class="license" href="http://creativecommons.org/licenses/by/3.0/"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by/3.0/80x15.png" /></a>
		Privacy patterns are licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution license</a>.
	<br>Contribute on <a href="https://github.com/privacypatterns">GitHub</a>. Read our <a href="/about/policy" title="Privacy Policy">privacy and contribution policy</a>.
	</p>
	<p class="berkeley">UC Berkeley <img id="iman" src="/media/images/I_School_logo_i.png" height="30px" /> School of Information</p> 
</footer>


		</div>
    <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if necessary --
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.js"></script>
    <script>window.jQuery || document.write("<script src='js/libs/jquery-1.5.1.min.js'>\x3C/script>")</script>
    
  	
  	
    -->
    <script>
      var _gaq=[['_setAccount','UA-24350461-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
        g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
	</body>
</html>

